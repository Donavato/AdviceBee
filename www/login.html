<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
    <!--initialize jquery from js folder-->
    <script src="js/jquery-3.3.1.min.js"></script>
</head>

<body>
    <form>
        <label><b>Email</b></label>
        <input type="text" placeholder="Enter email" id="email" required>
        <br />
        <label><b>Password</b></label>
        <input type="password" placeholder="Enter password" id="passwrd" required>
        <br />
        <button type="button" id="submit">Login</button>
    </form>
    <a href="insert.html">insert</a>
    <a href="delete.html">delete</a>
    <a href="index.html">show data</a>
    <a href="login.html">login</a>
    <a href="register.html">register</a>
    <a href="changepw.html">change password</a>
    <br><br>
    <a href="pwreset.html">password reset</a>

    <div id="response">

    </div>
    <!-- FIX THE SUCCESS/FAIL RESPONSE TYPE -->
    <!--Implementation of jquery/ajax-->
    <script type="text/javascript">
        $('#submit').on('click', function (e) {
            e.preventDefault()
                var email = $("#email").val();
                var password = $("#passwrd").val();
                var dataString = "email=" + email +"&passwrd=" + password;
            $.ajax({
                url: "http://localhost/api/Account/login.php",
                type: "POST",
                // contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: dataString,
                success: function(data){
                    
                    if(data==true){
                        alert("Logged in Successfully");
                        window.location.replace("index.html");
                    }else{
                        alert("Login Failed");
                    }
                    
                }, error: function(e){
                    alert(JSON.stringify(e));
                }
            });
        });
    </script>
</body>

</html>