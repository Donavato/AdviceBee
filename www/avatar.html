<div id="getavatar">
</div>

<script type="text/javascript">

    $.ajax({
        url: "http://10.0.2.2/api/profile_image/avatar.php",
        type: "POST",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: "param=no",
        //on success it will call this function
        success: function (data) {
            var DOM = $('#getavatar');

            //GET DATA AND PARSE IT
            var imageURL = data[0].pImage;

            //call to get userID of the person logged in
            $.ajax({
                url: "http://10.0.2.2/api/Profile/getuserID.php",
                type: "POST",
                data: "param=no",
                //on success it will call this function
                success: function (yourID) {

                    var uID = JSON.parse(yourID);
        
                    //if session storage is undefined or if the session storage or is holding the same user id as the profile's user id
                    if(sessionStorage.getItem("user_ID") === null || sessionStorage.getItem("user_ID") == uID)
                    {
                        //APPEND DATA AND DISPLAY IT
                        DOM.append("<a href='profileImage.html'>"+ imageURL +"</a>");
                    }
                    else
                    {
                        //APPEND DATA AND DISPLAY IT
                        DOM.append(imageURL);
                    }

                var image = document.getElementById('getavatar');
                }
            });
        }
    });
</script>